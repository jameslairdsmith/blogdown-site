<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>James Laird-Smith on James Laird-Smith</title>
    <link>/</link>
    <description>Recent content in James Laird-Smith on James Laird-Smith</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2018</copyright>
    <lastBuildDate>Fri, 31 Jul 2020 00:00:00 +0100</lastBuildDate>
    <atom:link href="/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Charts</title>
      <link>/charts/projects/</link>
      <pubDate>Wed, 20 Apr 2016 00:00:00 +0100</pubDate>
      
      <guid>/charts/projects/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Software</title>
      <link>/projectspage/projects/</link>
      <pubDate>Wed, 20 Apr 2016 00:00:00 +0100</pubDate>
      
      <guid>/projectspage/projects/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Folkestone, July 2020</title>
      <link>/photography/folkestone-july-2020/</link>
      <pubDate>Fri, 31 Jul 2020 00:00:00 +0100</pubDate>
      
      <guid>/photography/folkestone-july-2020/</guid>
      <description>

&lt;div class=&#34;gallery&#34;&gt;
  
  
  
  
    
  
  &lt;a data-fancybox=&#34;gallery-images&#34; data-caption=&#34;Stairway&#34; href=&#34;https://lh3.googleusercontent.com/pw/ACtC-3cg3JGI8t3CSQ0ldT7YfNV2QokQBwftzaonwuS6Y8PmGS1uzn2yqXTVBOY2TthAmPBGm7OhTNW5VWxdm30QLXELrvGlIT8aIGpqq7UragwzdBkpCEV4qbmyWZVd1UH6vJqNETemovd_E2bepyTUL2tC5w=w2106-h1578-no?authuser=0&#34;&gt;
    &lt;img alt=&#34;&#34; src=&#34;https://lh3.googleusercontent.com/pw/ACtC-3cg3JGI8t3CSQ0ldT7YfNV2QokQBwftzaonwuS6Y8PmGS1uzn2yqXTVBOY2TthAmPBGm7OhTNW5VWxdm30QLXELrvGlIT8aIGpqq7UragwzdBkpCEV4qbmyWZVd1UH6vJqNETemovd_E2bepyTUL2tC5w=w2106-h1578-no?authuser=0&#34;&gt;
  &lt;/a&gt;
  
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Mayfair, summer 2020</title>
      <link>/photography/mayfair-summer-2020/</link>
      <pubDate>Fri, 17 Jul 2020 00:00:00 +0100</pubDate>
      
      <guid>/photography/mayfair-summer-2020/</guid>
      <description>

&lt;div class=&#34;gallery&#34;&gt;
  
  
  
  
    
  
  &lt;a data-fancybox=&#34;gallery-images&#34; data-caption=&#34;Grosvenor Square&#34; href=&#34;https://lh3.googleusercontent.com/oil4CSsf4vrWvkixeJ_AEQhqEuQnhKxt4hbmCx49aYpd2yuydGCs2GHqmTalpjE96FXQgUME8rHK-hNNsrSM_kZAx-0ybvd3YscaTXOhKP215TyGmrxouvzfMuGwJ9IoKwJullK4IQhI9juI1UaNTlI6wLtQJSh4-ewauuwu_sA01y1xshPLBVH_UUJfdflV-rRSfgpFoqWwCn3P6zFi9cdGfh_8dQ44YOSZoOI1DHiPfcD5rUyUB1tIfVmJnJPPC7rBMQ93KEtX6e74LNHcZIDW2nPWJJwEGsDyKl0SCUO61eGLzGnxkDvq7smiO7hNZvXutCgQhWyYvFNcvIcieHHK1wqny-wqbyN8QsQEzd8qQoTvx8mpPT66k1GO2IKc_MZtMzdLZDM52oCYMvPR6tcldVRyMX3ytYQ-heY4H-Svz7zH35A2hoLtoC-Zn4Xaw9nRi0xluoWFIJ0ohqv_EUxHITISwx3LpeLojefm1bBZNOXUu53qqyqVu6Gc3n0fj3B8fD3jS2SzBv1pZ9ekKfCyj56fqzuL-QfpEB5Jy5Z11vuKn1evzP3RFJVLl8Sljstia2T2BxcLZrX_PmHMR8--K7AbisA8Wekfm8aDsHcg3zjhUtuO-arA0y4iB3-x7ze_ZfGy4N4WVuani9WoYAthoiI7sKeVMMjYQ0Oohuc4_rACD1ExQDgpPO62E6o=w2160-h1440-no?authuser=0&#34;&gt;
    &lt;img alt=&#34;&#34; src=&#34;https://lh3.googleusercontent.com/oil4CSsf4vrWvkixeJ_AEQhqEuQnhKxt4hbmCx49aYpd2yuydGCs2GHqmTalpjE96FXQgUME8rHK-hNNsrSM_kZAx-0ybvd3YscaTXOhKP215TyGmrxouvzfMuGwJ9IoKwJullK4IQhI9juI1UaNTlI6wLtQJSh4-ewauuwu_sA01y1xshPLBVH_UUJfdflV-rRSfgpFoqWwCn3P6zFi9cdGfh_8dQ44YOSZoOI1DHiPfcD5rUyUB1tIfVmJnJPPC7rBMQ93KEtX6e74LNHcZIDW2nPWJJwEGsDyKl0SCUO61eGLzGnxkDvq7smiO7hNZvXutCgQhWyYvFNcvIcieHHK1wqny-wqbyN8QsQEzd8qQoTvx8mpPT66k1GO2IKc_MZtMzdLZDM52oCYMvPR6tcldVRyMX3ytYQ-heY4H-Svz7zH35A2hoLtoC-Zn4Xaw9nRi0xluoWFIJ0ohqv_EUxHITISwx3LpeLojefm1bBZNOXUu53qqyqVu6Gc3n0fj3B8fD3jS2SzBv1pZ9ekKfCyj56fqzuL-QfpEB5Jy5Z11vuKn1evzP3RFJVLl8Sljstia2T2BxcLZrX_PmHMR8--K7AbisA8Wekfm8aDsHcg3zjhUtuO-arA0y4iB3-x7ze_ZfGy4N4WVuani9WoYAthoiI7sKeVMMjYQ0Oohuc4_rACD1ExQDgpPO62E6o=w2160-h1440-no?authuser=0&#34;&gt;
  &lt;/a&gt;
  
  
  
  
    
  
  &lt;a data-fancybox=&#34;gallery-images&#34;  href=&#34;https://lh3.googleusercontent.com/YsfPHHRkw0iRpPSe65NNk8PE0aKdid9D5y3Elz908sY-8W68VBdxfzwmgKncvW2As1ak-rzWQXeGKrqk6AYY_kkb1EeerdsMOAx5wPomPJmTTIzbP_qTz5E40dbAM7_N1xVwKrd6g4mCPBMHuOvp46kvVpBNfAxs2qmfVbDeSvJs2sEXNhVDdR-dm48z9sxKMEokKN4IkC2EYNzX-RDI2yX92Z0dKM0lTWEpHc53dA3Cg7Qjwu7wD5BhMbL971_qyVzxHMCGg1iuvRYcBvquirTpEPwHgGuaZTn7qVL8-YRBuOCThjePIGXoQ7H6VtxBxItVOlL5fkaMmFgRhYEed__wjY5o1a24IGAeh0mk6OSCnCArCU03LD6gcEyxdLFgoEPAQYen8nw33GFB99PZL-HhP-3SCg_ur5vKhgWW2uVrT1w0hIQmVyMLbRDO0X8g8rD3yHN1taivCLzCBX0BtL8tWMylU1YS_uFmPL5UY9ApoeQCQO4SapraCzin6wGl-LwUTbxOqvmDTQTKYN1PGsopNfYUVOwUZirq8orkKIxyIJbrFjlFNSdEwv-TaknZHTW_GgqRYHkQEZQoDJkpKCrfYJWz_D_jGsJkG3CTn0NjqrIZrYshOQ8ARNR9QeuXp1GyI2ZksoxJcbx9DJho5_aBQBCGgDvt0OT8VHWlYRuWRCPbuDNRICcIUtMwB_8=w2368-h1578-no?authuser=0&#34;&gt;
    &lt;img alt=&#34;&#34; src=&#34;https://lh3.googleusercontent.com/YsfPHHRkw0iRpPSe65NNk8PE0aKdid9D5y3Elz908sY-8W68VBdxfzwmgKncvW2As1ak-rzWQXeGKrqk6AYY_kkb1EeerdsMOAx5wPomPJmTTIzbP_qTz5E40dbAM7_N1xVwKrd6g4mCPBMHuOvp46kvVpBNfAxs2qmfVbDeSvJs2sEXNhVDdR-dm48z9sxKMEokKN4IkC2EYNzX-RDI2yX92Z0dKM0lTWEpHc53dA3Cg7Qjwu7wD5BhMbL971_qyVzxHMCGg1iuvRYcBvquirTpEPwHgGuaZTn7qVL8-YRBuOCThjePIGXoQ7H6VtxBxItVOlL5fkaMmFgRhYEed__wjY5o1a24IGAeh0mk6OSCnCArCU03LD6gcEyxdLFgoEPAQYen8nw33GFB99PZL-HhP-3SCg_ur5vKhgWW2uVrT1w0hIQmVyMLbRDO0X8g8rD3yHN1taivCLzCBX0BtL8tWMylU1YS_uFmPL5UY9ApoeQCQO4SapraCzin6wGl-LwUTbxOqvmDTQTKYN1PGsopNfYUVOwUZirq8orkKIxyIJbrFjlFNSdEwv-TaknZHTW_GgqRYHkQEZQoDJkpKCrfYJWz_D_jGsJkG3CTn0NjqrIZrYshOQ8ARNR9QeuXp1GyI2ZksoxJcbx9DJho5_aBQBCGgDvt0OT8VHWlYRuWRCPbuDNRICcIUtMwB_8=w2368-h1578-no?authuser=0&#34;&gt;
  &lt;/a&gt;
  
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/chart/favourite-colours/</link>
      <pubDate>Fri, 05 Jun 2020 00:00:00 +0100</pubDate>
      
      <guid>/chart/favourite-colours/</guid>
      <description>&lt;p&gt;&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Embedding Vega-Lite&lt;/title&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega@5&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-lite@4&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-embed@6&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-lite-api@0.11.0&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;style&gt;
#visContainer {
  width: min(720px, 100%);
  line-height:0;
  margin: auto;
}

#vis {
  width: 100%;
  margin: auto;
}

#visCaption{
  font-size: 50%;
  line-height: 1;
  font-size: 0.5rem;
  color: #696969;
}

#visSubHeading{
  font-style: italic;
  padding-bottom: 100;
  margin-bottom: 2%;
  line-height: 1;
}

#visHeading{
  padding-bottom: &#34;100%&#34;;
  margin-top: 0;
  line-height: 1;
}

article .article-metadata {
    margin-bottom: 0;
}

&lt;/style&gt;

&lt;p&gt;&lt;/head&gt;
&lt;body&gt;&lt;/p&gt;

&lt;div id=&#34;visContainer&#34;&gt;

&lt;div id=&#34;headingblock&#34; align=&#34;center&#34;&gt;
    &lt;h3 align=&#34;left&#34; id=&#34;visHeading&#34;&gt;Everyone&#39;s favorite colours&lt;/h3&gt;
    &lt;p align=&#34;left&#34; id=&#34;visSubHeading&#34;&gt;Saturation&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&#34;vis&#34;&gt;&lt;/div&gt;

&lt;p align=&#34;left&#34; id=&#34;visCaption&#34;&gt;Source: Survey of Reddit users, 2017&lt;/p&gt; 

&lt;p&gt;&lt;/div&gt;&lt;/p&gt;

&lt;script type=&#34;text/javascript&#34;&gt;

url_string = &#34;https://gist.githubusercontent.com/jameslairdsmith/0d846a5eb3bc81076e497d522629c2b4/raw/ed154a51b07ab9d8329fb47d7eda862d9199b6a2/fav_colour_data.csv&#34;;

el = document.getElementById(&#39;visSubHeading&#39;);

style = window.getComputedStyle(el, null).getPropertyValue(&#39;font-size&#39;);

fontFamily = window.getComputedStyle(el, null).getPropertyValue(&#39;font-family&#39;);

subFontSize = parseFloat(style); 

yAxisSpec = {title: null,
             //tickCount: 5,
             ticks: false,
             domain: false,
             orient: &#34;left&#34;,
             labelFontSize: subFontSize - 2,
             labelFont: fontFamily,
             labelFlush: false,
             //labelPadding: -20,
             values: [0, 0.2, 0.4, 0.6, 0.8, 1],
             grid: true};
             
xAxisSpec = {title: &#34;Hue&#34;,
             grid: false,
             //tickCount: 5,
             maxExtent: 40,
             orient: &#34;bottom&#34;,
             minExtent: 40,
             labelPadding: 20,
             titleFontSize: subFontSize - 1,
             titleFont: fontFamily,
             titlePadding: 5,
             labelFontSize: subFontSize - 1,
             labelFont: fontFamily,
             domain:false,
             values: [0, 0.2, 0.4, 0.6, 0.8, 1],
             ticks: false}
             
width = document.getElementById(&#34;vis&#34;).offsetWidth;
             
if (width &gt; 450) {
  sizeLegendOrient = &#34;right&#34;
  sizeLegendDirection = &#34;vertical&#34;
  sizeLegendTitle = [&#34;Share of&#34;, &#34; responses&#34;]
} else {
  sizeLegendOrient = &#34;top&#34;
  sizeLegendDirection = &#34;horizontal&#34;
  sizeLegendTitle = &#34;Share of responses&#34;
}
    
             
sizeLegend =  {title: sizeLegendTitle,
               titleFontSize: subFontSize - 3,
               titleFont: fontFamily,
               labelFontSize: subFontSize - 3,
               labelFont: fontFamily,
               direction: sizeLegendDirection,
               padding: 0,
               //orient: &#34;none&#34;,
               orient: sizeLegendOrient,
               //legendX: 325,
               //legendY: -5.5,
               values: [0.01, 0.05, 0.1, 0.15],
               //offset: 0,
               format: &#34;%&#34;}
               
minPointSize = 20
maxPointSize =  1200
               
sizeScale = {range: [minPointSize, maxPointSize], 
             nice: false,
             clamp: false}
               
autosizeSpec = {type: &#34;fit&#34;, 
                resize: true, 
                contains: &#34;padding&#34;}
                
myToolTip = [&#34;colour&#34;,
                      &#34;colour_hex&#34;, 
                      &#34;prop_total&#34;,
                      &#34;color_hue&#34;]
                      
myBetterToolTip = [
      {&#34;field&#34;: &#34;colour&#34;,
       title: &#34;Colour name&#34;,
       &#34;type&#34;: &#34;nominal&#34;},
      {&#34;field&#34;: &#34;prop_total&#34;, 
       &#34;type&#34;: &#34;quantitative&#34;, 
       format: &#34;.2%&#34;, 
       title: &#34;Share of reponses&#34;}
    ]

const plot = vl
        .markPoint({filled: true})
        .data(vl.csv(url_string))
        .encode(
          vl.x()
            .fieldQ(&#34;color_hue&#34;)
            .scale({domain: [-0.05, 1]})
            .axis(xAxisSpec),
          vl.y()
            .fieldQ(&#34;color_saturation&#34;)
            .scale({domain: [-0, 1]})
            .axis(yAxisSpec),
          vl.size()
            .fieldQ(&#34;prop_total&#34;)
            .scale(sizeScale)
            .legend(sizeLegend),
          vl.color()
            .fieldN(&#34;colour_hex&#34;)
            .scale(null),
          vl.fillOpacity().value(100),
          vl.tooltip(myBetterToolTip)
        )
        .width(&#34;container&#34;)
        .height(500)
        .autosize(&#34;fit&#34;)
        .config({style: {cell: {stroke: &#34;transparent&#34;}},
                 background: null})
        .toJSON();



opt = ({
      &#34;actions&#34;: false,
      &#34;tooltip&#34;: true
    });
    
vegaEmbed(&#34;#vis&#34;, plot, opt);

//vis.style.transform = &#34;translateY(-20px)&#34;;

&lt;/script&gt;

&lt;p&gt;&lt;/body&gt;&lt;/p&gt;

&lt;p&gt;&lt;/html&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/chart/when-i-read/</link>
      <pubDate>Fri, 22 May 2020 00:00:00 +0100</pubDate>
      
      <guid>/chart/when-i-read/</guid>
      <description>&lt;p&gt;&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Embedding Vega-Lite&lt;/title&gt;
  &lt;script src=&#34;https://d3js.org/d3.v5.js&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega@5&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-lite@4&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-embed@6&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;&lt;/head&gt;&lt;/p&gt;

&lt;p&gt;&lt;body&gt;&lt;/p&gt;

&lt;div id=&#34;test&#34;&gt;&lt;/div&gt;

&lt;div id=&#34;headingblock&#34; align=&#34;center&#34;&gt;
    &lt;h3 align=&#34;left&#34; id=&#34;readhead&#34;&gt;When I read&lt;/h3&gt;
    &lt;p align=&#34;left&#34; id=&#34;readsubhead&#34;&gt;Proportion of my Kindle annotations&amp;#8224;&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;&lt;div id=&#34;readvis&#34; align=&#34;center&#34;&gt;&lt;/div&gt;
&lt;p align=&#34;left&#34; id=&#34;readsource&#34;&gt;&amp;#8224;Includes highlights, bookmarks and comments.&lt;/p&gt;&lt;/p&gt;

&lt;script type=&#34;text/javascript&#34;&gt;

width = document.getElementById(&#34;test&#34;).offsetWidth;

maxWidth = 630;

getWorkingWidth = function(width,maxWidth){if(width &lt; maxWidth)
                                          {return width}
                                          else {return maxWidth}};
                                          
plotWidth = getWorkingWidth(width, maxWidth);

aspectRatio = 0.75;

plotMaxHeight = 350;

plotHight =  Math.max(aspectRatio * plotWidth, plotMaxHeight);

leftMargin = (width - plotWidth)/2;

rightMargin = leftMargin;

document.getElementById(&#34;readhead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-top: 0;
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px`);
      
document.getElementById(&#34;readsubhead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px;
      font-style: italic;
      //margin-bottom: 0;
      text-align:left;`);
      
document.getElementById(&#34;readsource&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      font-size: 0.5rem;
      color: #696969;
      //margin-bottom: 0; 
      text-align:left;`);
      
document.getElementById(&#34;readvis&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      margin-top: 0;
      // font-size: 0.7rem;
      // color: #696969;
      // margin-bottom: 0; 
      //text-align:right;`
);

el = document.getElementById(&#39;readsubhead&#39;);

style = window.getComputedStyle(el, null).getPropertyValue(&#39;font-size&#39;);

fontFamily = window.getComputedStyle(el, null).getPropertyValue(&#39;font-family&#39;);

subFontSize = parseFloat(style); 

yAxis = {title: null,
         //tickCount: 4,
         ticks: false,
         domain:false,
         labelFontSize: subFontSize - 3,
         labelFont: fontFamily,
         labelPadding: 5,
         orient: &#34;left&#34;,
         grid: true,
         format: &#34;%&#34;};
         
xAxis = {title: null,
         grid: false,
         format: &#34;%-I %p&#34;,
         labelFontSize: subFontSize - 3,
         labelFont: fontFamily,
         maxExtent: 40,
         orient: &#34;bottom&#34;,
         minExtent: 40,
         labelPadding: 12,
         titleFontSize: subFontSize - 3,
         titleFont: fontFamily,
         titlePadding: -4,
         domain:false,
         ticks: false};
         
colorLegend = {orient: &#34;none&#34;, 
               title: null,
               direction: &#34;vertical&#34;,
               padding: 0,
               labelOffset: -20,
               labelAlign: &#34;right&#34;,
               titlePadding: 0,
               labelFont: fontFamily,
               //legendX : -25,
               //legendY: -15,
               legendX : plotWidth-40,
               legendY: -30,
               titleFontSize: subFontSize - 3,
               labelFontSize: subFontSize - 3};

plot = {
  &#34;$schema&#34;: &#34;https://vega.github.io/schema/vega-lite/v4.json&#34;,
  &#34;data&#34;: { &#34;url&#34;: &#34;https://gist.githubusercontent.com/jameslairdsmith/2681e69a86b96beb73d46f1f69a12b72/raw/7543131d5304c5ccbb349949f675219307bcc84c/my_hourly_reading_counts.csv&#34;,
  &#34;format&#34;: {
      &#34;parse&#34;: {&#34;added_hour&#34;: &#34;utc:&#39;%H:%M:%S&#39;&#34;}
    }
    },
  padding: {&#34;left&#34;: 0, &#34;top&#34;: 0, &#34;right&#34;: 0, &#34;bottom&#34;: 0},
  width: plotWidth*0.9,
  height: plotHight/2.5,
  //autosize: {
  //      type: &#34;fit&#34;,
  //      contains: &#34;padding&#34;
  //    },
  &#34;config&#34;: {&#34;view&#34;: {&#34;stroke&#34;: &#34;transparent&#34;}},
  &#34;transform&#34;: [
    {&#34;calculate&#34;: &#34;datum.is_weekend == &#39;TRUE&#39; ? &#39;Weekends&#39; : &#39;Weekdays&#39;&#34;,
     &#34;as&#34;: &#34;is_weekend&#34;},
    {&#34;calculate&#34;: &#34;toNumber(datum.n)&#34;, &#34;as&#34;: &#34;n&#34;},
    {&#34;joinaggregate&#34;: [{
          &#34;op&#34;: &#34;sum&#34;,
          &#34;field&#34;: &#34;n&#34;,
          &#34;as&#34;: &#34;totalN&#34;
        }],
        &#34;groupby&#34;: [&#34;is_weekend&#34;]
      },
    {&#34;calculate&#34;: &#34;(datum.n/datum.totalN)&#34;, &#34;as&#34;: &#34;my_density&#34;}
  ],
  &#34;mark&#34;: &#34;bar&#34;,
  &#34;encoding&#34;: {
    &#34;row&#34;: {&#34;field&#34;: &#34;is_weekend&#34;, 
            &#34;sort&#34;: &#34;descending&#34;,
            spacing:  30,
            &#34;header&#34;: {&#34;title&#34;: null,
                       &#34;labelOrient&#34;: &#34;top&#34;,
                       &#34;labelAnchor&#34;:&#34;middle&#34;,
                       labelFont: fontFamily,
                       labelFontSize: subFontSize - 3,
                       &#34;labelAngle&#34;: 0,
                       labelFontWeight: &#34;bold&#34;,
                       &#34;labelAlign&#34;:&#34;right&#34;,
                       &#34;labelPadding&#34;: 0},
            &#34;type&#34;: &#34;nominal&#34;},
    &#34;y&#34;: {
      &#34;field&#34;: &#34;my_density&#34;, &#34;type&#34;: &#34;quantitative&#34;,
      &#34;aggregate&#34;: &#34;sum&#34;,
      &#34;axis&#34;: yAxis
    },
    &#34;x&#34;: {&#34;field&#34;: &#34;added_hour&#34;,
          &#34;axis&#34;: xAxis,
          &#34;timeUnit&#34;: {&#34;unit&#34; :&#34;utchoursminutes&#34;,
                       &#34;step&#34;: 30},
          &#34;type&#34;: &#34;temporal&#34;},
    &#34;color&#34;: {
      &#34;legend&#34;: colorLegend,
      &#34;field&#34;: &#34;reading_type&#34;, &#34;type&#34;: &#34;nominal&#34;,
      &#34;scale&#34;: {&#34;range&#34;: [&#34;#4d4d4d&#34;, &#34;#b1b1b1&#34;]}
    }
  }
}

opt = ({
      &#34;actions&#34;: false,
      &#34;tooltip&#34;: false
    });
    
vegaEmbed(&#34;#readvis&#34;, plot, opt);


&lt;/script&gt;

&lt;p&gt;&lt;/body&gt;&lt;/p&gt;

&lt;p&gt;&lt;/html&gt;&lt;/p&gt;

&lt;p&gt;The ancient Greek maxium to &amp;lsquo;know thyself&amp;rsquo; becomes much easier with data.
But data on one&amp;rsquo;s self is suprisingly hard to come by. To make one small inroad
into fixing this, I&amp;rsquo;ve gone about extracting all the annotations from my
Kindle e-reader. This lets me see not just my highlights, bookmarks and
comments but also when they were made. Plotting these by the time of day they
were created (see chart) gives a retrospective of my reading life.&lt;/p&gt;

&lt;p&gt;My weekdays look to be quite regimented, at least during the daytime. The
noticeable peaks are for commuting and lunch breaks, filled almost exclusively
by news reading. My evenings are more leisurely: with more spread-out reading
of both news and books.&lt;/p&gt;

&lt;p&gt;By contrast, weekends are dominated by books rather than news, with reading
spead over more hours and with more gentle starts to the day. The practice
resumes in the evening after a day of activity. Rarely does my reading strech
past eleven, regardless of the day. All the better to rest and return afresh
tomorrow.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Introducing: Chart Legends</title>
      <link>/post/introducing-chart-legends/</link>
      <pubDate>Sun, 22 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>/post/introducing-chart-legends/</guid>
      <description>


&lt;p&gt;This is a forum for me to discuss data visualations I like.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Competitive debate record</title>
      <link>/debate/</link>
      <pubDate>Sun, 12 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>/debate/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/core-js/shim.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/react/react.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/react/react-dom.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/reactwidget/react-tools.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/reactable-binding/reactable.js&#34;&gt;&lt;/script&gt;


&lt;style&gt;
.article-container {
  max-width: 1200px;
}

.article-date {
  display:none;
}
&lt;/style&gt;
&lt;p&gt;For a big part of my life, I have involved myself in competitive debating.
This is different from ordinary debate in that participants rarely
know the topics in advance and cannot choose the position from which they argue.
The winners and losers of a competitive debate are not chosen by an audience,
but rather by a panel of other competitive debaters.&lt;/p&gt;
&lt;p&gt;Much of competitive debating is centered around competitions. These take place
all over the world and involve many rounds of debate happening over a number of
days. Because competitive debate is still a student-centered
activity, most of these competitions are hosted by university debate societies.&lt;/p&gt;
&lt;p&gt;The following table is a summary of some of my performances, both as a speaker
and a judge, at various debate competitions.&lt;/p&gt;
&lt;p&gt;Each of the rows represents a different competition. To “break” at a debate
competition is a good thing: it means to progress through to the elimination
rounds. In these later stages teams compete to knock each another out and
so fewer panels of judges are required. As such, the quality of a speaker or
judge is indicated by how far into a competition they progress.&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;div id=&#34;htmlwidget-1&#34; class=&#34;reactable html-widget&#34; style=&#34;width:auto;height:auto;&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;tag&#34;:{&#34;name&#34;:&#34;Reactable&#34;,&#34;attribs&#34;:{&#34;data&#34;:{&#34;rn&#34;:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34],&#34;competition&#34;:[&#34;WUDC&#34;,&#34;SANUDC&#34;,&#34;PAUDC&#34;,&#34;LSE Open&#34;,&#34;Oxford IV&#34;,&#34;Inner Temple Open&#34;,&#34;Imperial Open&#34;,&#34;UCL IV&#34;,&#34;LSE Asians&#34;,&#34;KCL Open&#34;,&#34;KCL IV&#34;,&#34;SANUDC&#34;,&#34;Cape Town Open&#34;,&#34;UCT 150th Year Open&#34;,&#34;The Science Open&#34;,&#34;Sci-Fi Open&#34;,&#34;UCL President&#39;s Cup&#34;,&#34;SOAS and Friends Mini-Open&#34;,&#34;SANUDC&#34;,&#34;KCL Pro-Am&#34;,&#34;KCL Pro-Am&#34;,&#34;LSE Pro-Am&#34;,&#34;KCL Schools&#34;,&#34;UCL Schools&#34;,&#34;Imperial Schools&#34;,&#34;Imperial Novices&#34;,&#34;UCL Schools&#34;,&#34;WUDC&#34;,&#34;WUDC&#34;,&#34;Imperial IV&#34;,&#34;Imperial Open&#34;,&#34;Cambridge IV&#34;,&#34;LSE Open&#34;,&#34;Oxford IV&#34;],&#34;year&#34;:[2019,2013,2012,2018,2018,2019,2019,2018,2018,2018,2018,2011,2017,2015,2018,2018,2018,2019,2014,2018,2018,2019,2018,2018,2018,2018,2019,2014,2016,2018,2018,2018,2019,2019],&#34;role&#34;:[&#34;Judge&#34;,&#34;Speaker&#34;,&#34;Speaker&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Speaker&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;,&#34;Judge&#34;],&#34;broke&#34;:[&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;✅&#34;,&#34;❌&#34;,&#34;❌&#34;,&#34;❌&#34;,&#34;❌&#34;,&#34;❌&#34;,&#34;❌&#34;,&#34;❌&#34;],&#34;competition_type&#34;:[&#34;World Championship&#34;,&#34;National Championship&#34;,&#34;Continental Championship&#34;,&#34;Open&#34;,&#34;Universities&#34;,&#34;Open&#34;,&#34;Open&#34;,&#34;Universities&#34;,&#34;Open&#34;,&#34;Open&#34;,&#34;Universities&#34;,&#34;National Championship&#34;,&#34;Open&#34;,&#34;Open&#34;,&#34;Open&#34;,&#34;Open&#34;,&#34;Novices&#34;,&#34;Open&#34;,&#34;National Championship&#34;,&#34;Pro-Am&#34;,&#34;Pro-Am&#34;,&#34;Pro-Am&#34;,&#34;Schools&#34;,&#34;Schools&#34;,&#34;Schools&#34;,&#34;Novices&#34;,&#34;Schools&#34;,&#34;World Championship&#34;,&#34;World Championship&#34;,&#34;Universities&#34;,&#34;Open&#34;,&#34;Universities&#34;,&#34;Open&#34;,&#34;Universities&#34;],&#34;reached&#34;:[&#34;Semi-Final&#34;,&#34;Finals&#34;,&#34;Semi-Finals&#34;,&#34;Quarter Final&#34;,&#34;Quarter Final&#34;,&#34;Chaired Semi-Final&#34;,&#34;Final&#34;,&#34;Final&#34;,&#34;Final&#34;,&#34;Final&#34;,&#34;Semi-Final&#34;,&#34;Semi-Final&#34;,&#34;Final&#34;,&#34;Chaired Semi-Final&#34;,&#34;Final&#34;,&#34;Final&#34;,&#34;Semi-Final&#34;,&#34;Chaired Novice Final&#34;,&#34;Semi-Finals&#34;,&#34;Final&#34;,&#34;Final&#34;,&#34;Final&#34;,&#34;Final&#34;,&#34;Final&#34;,&#34;Final&#34;,&#34;Final&#34;,&#34;Was the CA&#34;,null,null,null,null,null,null,null],&#34;date_first_day&#34;:[&#34;2018-12-27&#34;,&#34;2013-06-29&#34;,&#34;2012-12-09&#34;,&#34;2018-02-10&#34;,&#34;2018-11-09&#34;,&#34;2019-01-18&#34;,&#34;2019-10-12&#34;,&#34;2018-03-10&#34;,&#34;2018-06-09&#34;,&#34;2018-06-30&#34;,&#34;2018-10-27&#34;,&#34;2011-07-09&#34;,&#34;2017-04-29&#34;,&#34;2015-07-24&#34;,&#34;2018-03-18&#34;,&#34;2018-03-25&#34;,&#34;2018-10-06&#34;,&#34;2019-02-24&#34;,&#34;2014-07-06&#34;,&#34;2018-03-24&#34;,&#34;2018-10-20&#34;,&#34;2019-01-13&#34;,&#34;2018-02-03&#34;,&#34;2018-02-24&#34;,&#34;2018-03-17&#34;,&#34;2018-10-14&#34;,&#34;2019-01-26&#34;,&#34;2013-12-27&#34;,&#34;2015-12-27&#34;,&#34;2018-07-07&#34;,&#34;2018-10-13&#34;,&#34;2018-11-16&#34;,&#34;2019-02-09&#34;,&#34;2019-11-08&#34;]},&#34;columns&#34;:[{&#34;accessor&#34;:&#34;rn&#34;,&#34;name&#34;:&#34;#&#34;,&#34;type&#34;:&#34;numeric&#34;,&#34;maxWidth&#34;:45,&#34;align&#34;:&#34;left&#34;},{&#34;accessor&#34;:&#34;competition&#34;,&#34;name&#34;:&#34;Competition name&#34;,&#34;type&#34;:&#34;character&#34;},{&#34;accessor&#34;:&#34;year&#34;,&#34;name&#34;:&#34;Year&#34;,&#34;type&#34;:&#34;numeric&#34;,&#34;maxWidth&#34;:70,&#34;align&#34;:&#34;left&#34;},{&#34;accessor&#34;:&#34;role&#34;,&#34;name&#34;:&#34;Role&#34;,&#34;type&#34;:&#34;character&#34;,&#34;maxWidth&#34;:95,&#34;align&#34;:&#34;left&#34;},{&#34;accessor&#34;:&#34;broke&#34;,&#34;name&#34;:&#34;Broke&#34;,&#34;type&#34;:&#34;character&#34;,&#34;maxWidth&#34;:70},{&#34;accessor&#34;:&#34;competition_type&#34;,&#34;name&#34;:&#34;Competition type&#34;,&#34;type&#34;:&#34;character&#34;,&#34;minWidth&#34;:120},{&#34;accessor&#34;:&#34;reached&#34;,&#34;name&#34;:&#34;Furthest stage reached&#34;,&#34;type&#34;:&#34;character&#34;,&#34;na&#34;:&#34;-&#34;,&#34;minWidth&#34;:120},{&#34;accessor&#34;:&#34;date_first_day&#34;,&#34;name&#34;:&#34;Start date&#34;,&#34;type&#34;:&#34;Date&#34;}],&#34;defaultPageSize&#34;:34,&#34;paginationType&#34;:&#34;numbers&#34;,&#34;showPageInfo&#34;:true,&#34;minRows&#34;:1,&#34;dataKey&#34;:&#34;5dd7cbb6a7ffb53d66845b5ad37e7b45&#34;},&#34;children&#34;:[]},&#34;class&#34;:&#34;reactR_markup&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/chart/language-efficiency/</link>
      <pubDate>Fri, 03 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>/chart/language-efficiency/</guid>
      <description>&lt;p&gt;&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Embedding Vega-Lite&lt;/title&gt;
  &lt;script src=&#34;https://d3js.org/d3.v5.js&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega@5.7.3&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-lite@4.0.0-beta.11&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-embed@6.0.0&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;&lt;/head&gt;&lt;/p&gt;

&lt;p&gt;&lt;body&gt;&lt;/p&gt;

&lt;div id=&#34;headingblock&#34; align=&#34;center&#34;&gt;
    &lt;h3 align=&#34;left&#34; id=&#34;irangdphead&#34;&gt;Talking, fast and slow&lt;/h3&gt;
    &lt;p align=&#34;left&#34; id=&#34;irangdpsubhead&#34;&gt;Speech rate, syllables per second*&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;&lt;div id=&#34;irangdpvis&#34; align=&#34;center&#34;&gt;&lt;/div&gt;
&lt;p align=&#34;left&#34; id=&#34;irangdpnote&#34;&gt;*Median value of observations&lt;/p&gt;
&lt;p align=&#34;left&#34; id=&#34;irangdpsource&#34;&gt;Source: &amp;ldquo;Different languages, similar encoding efficiency: Comparable information rates across the human communicative niche&amp;rdquo; by Christophe Coupé, Yoon Mi Oh, Dan Dediu, and François Pellegrino, Science Advances (2019)&lt;/p&gt;&lt;/p&gt;

&lt;script type=&#34;text/javascript&#34;&gt;

width = document.getElementById(&#34;irangdpvis&#34;).offsetWidth;

maxWidth = 630;

getWorkingWidth = function(width,maxWidth){if(width &lt; maxWidth)
                                          {return 1 * width}
                                          else {return maxWidth}};
                                          
plotWidth = getWorkingWidth(width, maxWidth);

aspectRatio = 0.75;

plotMaxHeight = 350;

plotHight =  Math.max(aspectRatio * plotWidth, plotMaxHeight);

leftMargin = (width - plotWidth)/2;

rightMargin = leftMargin;

document.getElementById(&#34;irangdphead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px`);
      
document.getElementById(&#34;irangdpsubhead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px;
      font-style: italic;
      //margin-bottom: 0;
      text-align:left;`);
      
document.getElementById(&#34;irangdpnote&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      font-size: 0.5rem;
      color: #696969;
      margin-bottom: 0; 
      text-align:left;`);
      
document.getElementById(&#34;irangdpsource&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      font-size: 0.5rem;
      color: #696969;
      //margin-bottom: 0; 
      text-align:left;`);
      
document.getElementById(&#34;irangdpvis&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      // font-size: 0.7rem;
      // color: #696969;
      // margin-bottom: 0; 
      //text-align:right;`
);

el = document.getElementById(&#39;irangdpsubhead&#39;);

style = window.getComputedStyle(el, null).getPropertyValue(&#39;font-size&#39;);

fontFamily = window.getComputedStyle(el, null).getPropertyValue(&#39;font-family&#39;);

subFontSize = parseFloat(style); 

url_string = &#34;https://gist.githubusercontent.com/jameslairdsmith/93a37c9670ec09d0da2282f3be6b3b05/raw/528736704c2a9dc8c677136a2896c2883e419189/language-complexity-summary.csv&#34;;

myData = {&#34;url&#34;: url_string};

lineMark = {
      &#34;mark&#34;: {
        &#34;type&#34;: &#34;line&#34;,
        &#34;color&#34;: &#34;firebrick&#34;
      },
      &#34;transform&#34;: [
        {
          &#34;regression&#34;: &#34;SR&#34;,
          &#34;on&#34;: &#34;ID&#34;
        }
      ],
      &#34;encoding&#34;: {
        &#34;x&#34;: {
          &#34;field&#34;: &#34;ID&#34;,
          &#34;type&#34;: &#34;quantitative&#34;
        },
        &#34;size&#34;: {&#34;value&#34;: 2},
        &#34;color&#34;: {&#34;value&#34;: &#34;black&#34;},
        &#34;y&#34;: {
          &#34;field&#34;: &#34;SR&#34;,
          &#34;type&#34;: &#34;quantitative&#34;
        }
      }
    };
    
plot = {
  &#34;$schema&#34;: &#34;https://vega.github.io/schema/vega-lite/v4.json&#34;,
  &#34;width&#34;: plotWidth,
  &#34;height&#34;: plotHight,
  autosize: {
        type: &#34;fit&#34;,
        contains: &#34;padding&#34;
      },
  &#34;config&#34;: {&#34;view&#34;: {&#34;stroke&#34;: &#34;transparent&#34;}},
  &#34;data&#34;: myData,
  &#34;layer&#34;:[lineMark,
    {&#34;mark&#34;: &#34;circle&#34;},
          {
    &#34;mark&#34;: {
      &#34;type&#34;: &#34;text&#34;,
      &#34;align&#34;: &#34;left&#34;,
      &#34;font&#34;: fontFamily,
      &#34;fontSize&#34;: subFontSize - 3,
      &#34;baseline&#34;: &#34;middle&#34;,
      &#34;dx&#34;: 0
    },
    &#34;encoding&#34;: {
      &#34;x&#34;: {&#34;field&#34;: &#34;x-lab&#34;},
      &#34;y&#34;: {&#34;field&#34;: &#34;y-lab&#34;},
      &#34;color&#34;: {&#34;value&#34;: &#34;black&#34;},
      &#34;size&#34;:{&#34;value&#34;: subFontSize - 3},
      &#34;text&#34;: {&#34;field&#34;: &#34;language-name&#34;, &#34;type&#34;: &#34;nominal&#34;}
    }
  }],
  &#34;encoding&#34;: {
    &#34;size&#34;:{&#34;value&#34;: 200},
    &#34;x&#34;: {&#34;field&#34;: &#34;ID&#34;, 
          &#34;type&#34;: &#34;quantitative&#34;,
          &#34;axis&#34;: {&#34;grid&#34;: false,
                   &#34;labelFontSize&#34;: subFontSize - 3,
                   &#34;labelFont&#34;: fontFamily,
                   labelPadding: 6,
                   tickCount: 6,
                   titleFontSize: subFontSize - 3,
                   titleFont: fontFamily,
                   titlePadding: 12,
                  &#34;title&#34;: &#34;Information density*&#34;},
          &#34;scale&#34;: {&#34;zero&#34;: false}
         },
    &#34;y&#34;: {&#34;field&#34;: &#34;SR&#34;,
          &#34;type&#34;: &#34;quantitative&#34;,
          &#34;axis&#34;: {&#34;grid&#34;: false,
                   &#34;labelFontSize&#34;: subFontSize - 3,
                   &#34;labelFont&#34;: fontFamily,
                   &#34;title&#34;: null},
         &#34;scale&#34;: {&#34;zero&#34;: false}
         },
    &#34;color&#34;: {&#34;field&#34;: &#34;simple-family-name&#34;,
              &#34;sort&#34;: [&#34;Indo-European&#34;, 
                       &#34;Sino-Tibetan&#34;, 
                       &#34;Uralic&#34;,
                       &#34;Language isolate&#34;,
                       &#34;Other&#34;],
              &#34;type&#34;: &#34;nominal&#34;,
             &#34;legend&#34;:{&#34;orient&#34;:&#34;none&#34;,
                      &#34;legendX&#34;: plotWidth-rightMargin-140,
                      &#34;legendY&#34;: -10,
                      //&#34;direction&#34;: &#34;vertical&#34;,
                      &#34;gridAlign&#34;: &#34;none&#34;,
                      &#34;labelFontSize&#34;: subFontSize - 5,
                      &#34;labelFont&#34;: fontFamily,
                      &#34;titleFontSize&#34;: subFontSize - 3,
                      &#34;titleFont&#34;: fontFamily,
                      &#34;titlePadding&#34;: 10,
                      &#34;titleFontWeight&#34;: 900,
                      &#34;title&#34;: &#34;Language family&#34;}}
  }
  //&#34;signals&#34;: [tooltipSignal],
  //&#34;scales&#34;: [xScale, yScale],
  //&#34;axes&#34;: [xAxis, yAxis],
  //&#34;marks&#34;: [rectMark, textMark]
}


opt = ({
      &#34;actions&#34;: false,
      &#34;tooltip&#34;: false
    });
    
vegaEmbed(&#34;#irangdpvis&#34;, plot, opt);


&lt;/script&gt;

&lt;p&gt;&lt;/body&gt;&lt;/p&gt;

&lt;p&gt;&lt;/html&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/chart/iran-economy/</link>
      <pubDate>Sat, 16 Nov 2019 00:00:00 +0000</pubDate>
      
      <guid>/chart/iran-economy/</guid>
      <description>&lt;p&gt;&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Embedding Vega-Lite&lt;/title&gt;
  &lt;script src=&#34;https://d3js.org/d3.v5.js&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega@5.7.3&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-lite@4.0.0-beta.11&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-embed@6.0.0&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;&lt;/head&gt;&lt;/p&gt;

&lt;p&gt;&lt;body&gt;&lt;/p&gt;

&lt;div id=&#34;headingblock&#34; align=&#34;center&#34;&gt;
    &lt;h3 align=&#34;left&#34; id=&#34;irangdphead&#34;&gt;Iran&#39;s economy: battered by sanctions&lt;/h3&gt;
    &lt;p align=&#34;left&#34; id=&#34;irangdpsubhead&#34;&gt;Change in real GDP, annual %&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;&lt;div id=&#34;irangdpvis&#34; align=&#34;center&#34;&gt;&lt;/div&gt;
&lt;p align=&#34;left&#34; id=&#34;irangdpsource&#34;&gt;Source for data, estimates and forecast: World Bank&lt;/p&gt;&lt;/p&gt;

&lt;script type=&#34;text/javascript&#34;&gt;

width = document.getElementById(&#34;irangdpvis&#34;).offsetWidth;

maxWidth = 630;

getWorkingWidth = function(width,maxWidth){if(width &lt; maxWidth)
                                          {return 1 * width}
                                          else {return maxWidth}};
                                          
plotWidth = getWorkingWidth(width, maxWidth);

aspectRatio = 0.75;

plotMaxHeight = 350;

plotHight =  Math.max(aspectRatio * plotWidth, plotMaxHeight);

leftMargin = (width - plotWidth)/2;

rightMargin = leftMargin;

document.getElementById(&#34;irangdphead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px`);
      
document.getElementById(&#34;irangdpsubhead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px;
      font-style: italic;
      //margin-bottom: 0;
      text-align:left;`);
      
document.getElementById(&#34;irangdpsource&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      font-size: 0.7rem;
      color: #696969;
      //margin-bottom: 0; 
      text-align:left;`);
      
document.getElementById(&#34;irangdpvis&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      // font-size: 0.7rem;
      // color: #696969;
      // margin-bottom: 0; 
      //text-align:right;`
);

el = document.getElementById(&#39;irangdpsubhead&#39;);

style = window.getComputedStyle(el, null).getPropertyValue(&#39;font-size&#39;);

fontFamily = window.getComputedStyle(el, null).getPropertyValue(&#39;font-family&#39;);

subFontSize = parseFloat(style); 

url_string = &#34;https://raw.githubusercontent.com/jameslairdsmith/iran_worldbank_data/master/current_iran_indicators.csv&#34;;

rectDataRaw =  [
  {&#34;start&#34;: &#34;2018-06-30&#34;, &#34;end&#34;: &#34;2020-06-30&#34;, &#34;event&#34;: &#34;Estimate&#34;},
  {&#34;start&#34;: &#34;2020-06-30&#34;, &#34;end&#34;: &#34;2022-06-15&#34;, &#34;event&#34;: &#34;Forecast&#34;}
];

eventDates =  [
  {&#34;eventDate&#34;: &#34;2016-01-16&#34;, &#34;eventDescription&#34;: &#34;Nuclear deal implemented \u2192 &#34;, &#34;yVal&#34;: &#34;0.12&#34;},
  {&#34;eventDate&#34;: &#34;2018-01-11&#34;, &#34;eventDescription&#34;: &#34;Trump sanctions take effect \u2192 &#34;, &#34;yVal&#34;: &#34;-0.0925&#34;}
];

makeGdpPercent = {calculate: &#34;datum.annual_gdp_growth/100&#34;, &#34;as&#34;: &#34;annual_gdp_growth_perc&#34;};

getTextMidpoint = {calculate: &#34;(datum.start + datum.end)/2&#34;, &#34;as&#34;: &#34;midPoint&#34;};

makeFirstDateLong = &#34;if(datum.label == &#39;2010&#39;, datum.label, timeFormat(datum.value, &#39;%y&#39;))&#34;;

yAxis = {title: null,
         tickCount: 8,
         ticks: false,
         domain:false,
         labelFontSize: subFontSize - 3,
         labelFont: fontFamily,
         labelPadding: 5,
         orient: &#34;right&#34;,
         grid: true,
         format: &#34;%&#34;};
         
xAxis = {title: &#34;Fiscal year ending&#34;,
         grid: false,
         labelExpr: makeFirstDateLong,
         labelFontSize: subFontSize - 3,
         labelFont: fontFamily,
         maxExtent: 40,
         orient: &#34;bottom&#34;,
         minExtent: 40,
         labelPadding: 6,
         titleFontSize: subFontSize - 3,
         titleFont: fontFamily,
         titlePadding: -4,
         domain:false,
         ticks: false};
         
yEncoding = {field: &#34;annual_gdp_growth_perc&#34;,
              type: &#34;quantitative&#34;,
              scale: {domain: [-0.12, 0.15]},
              axis: yAxis};
              
xEncoding = {field: &#34;year&#34;,
              axis: xAxis,
              scale: {domain: [&#34;2010-01-01&#34;, &#34;2022-01-01&#34;]},
              type: &#34;temporal&#34;};
              
rectLegend = {orient: &#34;top&#34;, 
               title: null, 
               labelFont: fontFamily,
               labelFontSize: subFontSize - 3};
               
rectEncoding = {
  x: {field: &#34;start&#34;, type: &#34;temporal&#34;},
  x2: {field: &#34;end&#34;},
  fillOpacity: {value: 0.2},
  color: {field: &#34;event&#34;,
          type: &#34;nominal&#34;,
          scale: {&#34;range&#34;: [&#34;#969696&#34;, &#34;#c7c7c7&#34;]},
          legend: rectLegend}};
          
textEncoding = {
  x: {field: &#34;midPoint&#34;, type: &#34;temporal&#34;},
  y: {value: 60},
  text: {field: &#34;event&#34;, type: &#34;nominal&#34;}
};

vLineEncoding = {
  x: {field: &#34;eventDate&#34;, type: &#34;temporal&#34;}
};

labelEncoding = {
      x: {field: &#34;eventDate&#34;, type: &#34;temporal&#34;},
      y: {field: &#34;yVal&#34;, type: &#34;quantitative&#34;},
      text: {field: &#34;eventDescription&#34;, 
             legend: null,
             type: &#34;nominal&#34;}
};

barMark = {
      mark: {type: &#34;bar&#34;},
      data: {url: url_string},
      transform: [makeGdpPercent],
      encoding: {
        y: yEncoding,
        x: xEncoding,
        fillOpacity: {value: 1},
        color: {value: &#34;#595959&#34;}}
};

rectMark = {
    mark: {type: &#34;rect&#34;},
    data: {values: rectDataRaw},
    encoding: rectEncoding
};

vLineMark = {
  mark: {type: &#34;rule&#34;},
  data: {values: eventDates},
  encoding: vLineEncoding
};

labelMark = {
  mark: {type: &#34;text&#34;,
         font: fontFamily,
         fontSize: subFontSize - 5,
         align: &#34;right&#34;},
  data: {values: eventDates},
  encoding: labelEncoding
};

ruleConfig = {
    strokeDash: [6,4],
    color: &#34;grey&#34;
};

barWidthMutiple = 16.5;

barWidth = plotWidth/barWidthMutiple;

plotConfig = {
  bar: {continuousBandSize: barWidth},
  rule: ruleConfig,
  style: {cell: {stroke: &#34;transparent&#34;}}
};

plot = {
  $schema: &#34;https://vega.github.io/schema/vega-lite/v4.json&#34;,
  width: plotWidth,
  height: plotHight,
  autosize: {
        type: &#34;fit&#34;,
        contains: &#34;padding&#34;
      },
  layer:[barMark, rectMark, vLineMark, labelMark],
  config: plotConfig
};

opt = ({
      &#34;actions&#34;: false,
      &#34;tooltip&#34;: false
    });
    
vegaEmbed(&#34;#irangdpvis&#34;, plot, opt);


&lt;/script&gt;

&lt;p&gt;&lt;/body&gt;&lt;/p&gt;

&lt;p&gt;&lt;/html&gt;&lt;/p&gt;

&lt;p&gt;Iran&amp;rsquo;s economy will have shrunk by 4.9% over the course of this
year and by a further 8.7% during 2020&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:0&#34;&gt;&lt;a href=&#34;#fn:0&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;, according to estimates
produced by the World Bank&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;. The country is reeling in
the fallout of the Trump administration&amp;rsquo;s decision to withdraw
from the nuclear treaty it signed in 2015 with the Obama
administration and other world powers&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;. The deal had been a boon
for the Islamic Republic where the lifting of sanctions contributed
to growth of 13.4% during 2017. Once the effects of the latest
sanctions are absorbed, World Bank forecasters predict flat growth
of 0.1% in 2021 and 1% in 2022.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:0&#34;&gt;All periods are fiscal year ends.
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:0&#34;&gt;&lt;sup&gt;^&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:1&#34;&gt;World Bank. (2019). &lt;em&gt;Iran’s Economic Update&lt;/em&gt;. Retrieved from &lt;a href=&#34;https://tinyurl.com/upwy79e&#34; target=&#34;_blank&#34;&gt;https://tinyurl.com/upwy79e&lt;/a&gt;
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:1&#34;&gt;&lt;sup&gt;^&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;Formally named the Joint Comprehensive Plan of Action (JCPOA).
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:2&#34;&gt;&lt;sup&gt;^&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Sandbox</title>
      <link>/post/sandbox/</link>
      <pubDate>Fri, 24 May 2019 00:00:00 +0000</pubDate>
      
      <guid>/post/sandbox/</guid>
      <description>


&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ── Attaching packages ──────────────────────────────────────────────────────────────── tidyverse 1.2.1 ──&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ✔ ggplot2 3.2.0     ✔ purrr   0.3.2
## ✔ tibble  2.1.3     ✔ dplyr   0.8.3
## ✔ tidyr   1.0.0     ✔ stringr 1.4.0
## ✔ readr   1.3.1     ✔ forcats 0.4.0&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ── Conflicts ─────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(htmltools)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;doc &amp;lt;- 
  tags$html(
    tags$head(
      tags$title(&amp;#39;My first page&amp;#39;)),
    tags$body(
      h1(&amp;#39;My first heading&amp;#39;),
      p(&amp;#39;My first paragraph, with some &amp;#39;, strong(&amp;#39;bold&amp;#39;), &amp;#39; text.&amp;#39;),
      div(class=&amp;#39;article-metadata&amp;#39;, &amp;#39;Here is a div with an article metadata attribute&amp;#39;),
      div(id=&amp;#39;myDiv&amp;#39;, class=&amp;#39;simpleDiv&amp;#39;, &amp;#39;Here is a div with some attributes.&amp;#39;))
)

cat(as.character(doc))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## &amp;lt;html&amp;gt;
##   &amp;lt;body&amp;gt;
##     &amp;lt;h1&amp;gt;My first heading&amp;lt;/h1&amp;gt;
##     &amp;lt;p&amp;gt;
##       My first paragraph, with some 
##       &amp;lt;strong&amp;gt;bold&amp;lt;/strong&amp;gt;
##        text.
##     &amp;lt;/p&amp;gt;
##     &amp;lt;div class=&amp;quot;article-metadata&amp;quot;&amp;gt;Here is a div with an article metadata attribute&amp;lt;/div&amp;gt;
##     &amp;lt;div id=&amp;quot;myDiv&amp;quot; class=&amp;quot;simpleDiv&amp;quot;&amp;gt;Here is a div with some attributes.&amp;lt;/div&amp;gt;
##   &amp;lt;/body&amp;gt;
## &amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#doc&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;make_html &amp;lt;- function(){doc &amp;lt;- 
  tags$html(
    tags$head(
      tags$title(&amp;#39;My first page&amp;#39;)),
    tags$body(
      h1(&amp;#39;My first heading&amp;#39;),
      p(&amp;#39;My first paragraph, with some &amp;#39;, strong(&amp;#39;bold&amp;#39;), &amp;#39; text.&amp;#39;),
      div(class=&amp;#39;article-metadata&amp;#39;, &amp;#39;Here is a div with an article metadata attribute&amp;#39;),
      div(id=&amp;#39;myDiv&amp;#39;, class=&amp;#39;simpleDiv&amp;#39;, &amp;#39;Here is a div with some attributes.&amp;#39;))
)

#cat(as.character(doc))
doc}&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;make_html()&lt;/code&gt;&lt;/pre&gt;
&lt;html&gt;
&lt;body&gt;
&lt;h1&gt;My first heading&lt;/h1&gt;
&lt;p&gt;
My first paragraph, with some 
&lt;strong&gt;bold&lt;/strong&gt;
 text.
&lt;/p&gt;
&lt;div class=&#34;article-metadata&#34;&gt;Here is a div with an article metadata attribute&lt;/div&gt;
&lt;div id=&#34;myDiv&#34; class=&#34;simpleDiv&#34;&gt;Here is a div with some attributes.&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tags$html(
    tags$head(
      tags$title(&amp;#39;My first page&amp;#39;)),
    tags$body(
      h1(&amp;#39;My first heading&amp;#39;),
      p(&amp;#39;My first paragraph, with some &amp;#39;, strong(&amp;#39;bold&amp;#39;), &amp;#39; text.&amp;#39;),
      div(class=&amp;#39;article-metadata&amp;#39;, &amp;#39;Here is a div with an article metadata attribute&amp;#39;),
      div(id=&amp;#39;myDiv&amp;#39;, class=&amp;#39;simpleDiv&amp;#39;, &amp;#39;Here is a div with some attributes.&amp;#39;)))&lt;/code&gt;&lt;/pre&gt;
&lt;html&gt;
&lt;body&gt;
&lt;h1&gt;My first heading&lt;/h1&gt;
&lt;p&gt;
My first paragraph, with some 
&lt;strong&gt;bold&lt;/strong&gt;
 text.
&lt;/p&gt;
&lt;div class=&#34;article-metadata&#34;&gt;Here is a div with an article metadata attribute&lt;/div&gt;
&lt;div id=&#34;myDiv&#34; class=&#34;simpleDiv&#34;&gt;Here is a div with some attributes.&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;test &amp;lt;-
  tags$html(
  tags$head(
    tags$title(&amp;#39;Embedding Vega-Lite&amp;#39;),
    tags$script(src=&amp;quot;https://d3js.org/d3.v5.js&amp;quot;),
    tags$script(src=&amp;quot;https://cdn.jsdelivr.net/npm/vega@4.2.0&amp;quot;),
    tags$script(src=&amp;quot;https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc6&amp;quot;),
    tags$script(src=&amp;quot;https://cdn.jsdelivr.net/npm/vega-embed@3.19.2&amp;quot;),
    tags$style(paste0(&amp;quot;.role-axis-label {&amp;quot;,
      css(
        font.size = paste0(0.9, &amp;#39;rem&amp;#39;),
        fill = &amp;#39;red&amp;#39;,
        color = &amp;#39;red&amp;#39;), &amp;quot;}&amp;quot;)
    )
  ),
  tags$body(
    tags$script(src=&amp;quot;https://d3js.org/d3.v5.js&amp;quot;),
    tags$script(src=&amp;quot;https://cdn.jsdelivr.net/npm/vega@4.2.0&amp;quot;),
    tags$script(src=&amp;quot;https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc6&amp;quot;),
    tags$script(src=&amp;quot;https://cdn.jsdelivr.net/npm/vega-embed@3.19.2&amp;quot;),
    tags$div(id=&amp;quot;pppblock&amp;quot;, align=&amp;quot;center&amp;quot;,
      tags$h3(align=&amp;quot;left&amp;quot;, id=&amp;quot;ppphead&amp;quot;, &amp;quot;Purchasing Power Parity (PPP)&amp;quot;),
      tags$p(align=&amp;quot;left&amp;quot;, id=&amp;quot;pppsubhead&amp;quot;, &amp;#39;Difference from South Africa, 2017&amp;#39;)
    ),
    tags$div(id=&amp;quot;pppvis&amp;quot;, align=&amp;quot;center&amp;quot;, class=&amp;quot;role-axis-label&amp;quot;),
    tags$p(align=&amp;quot;right&amp;quot;, id=&amp;quot;pppsource&amp;quot;, &amp;#39;Source: Eurostat-OECD&amp;#39;),
    tags$script(type=&amp;quot;text/javascript&amp;quot;, &amp;quot;var maxWidth = 500&amp;quot;),
    includeScript(&amp;quot;sandbox_files/sandbox.js&amp;quot;, type=&amp;quot;text/javascript&amp;quot;)
  )
)

test&lt;/code&gt;&lt;/pre&gt;
&lt;html&gt;
&lt;body&gt;
&lt;script src=&#34;https://d3js.org/d3.v5.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega@4.2.0&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc6&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-embed@3.19.2&#34;&gt;&lt;/script&gt;
&lt;div id=&#34;pppblock&#34; align=&#34;center&#34;&gt;
&lt;h3 align=&#34;left&#34; id=&#34;ppphead&#34;&gt;Purchasing Power Parity (PPP)&lt;/h3&gt;
&lt;p align=&#34;left&#34; id=&#34;pppsubhead&#34;&gt;Difference from South Africa, 2017&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;pppvis&#34; align=&#34;center&#34; class=&#34;role-axis-label&#34;&gt;&lt;/div&gt;
&lt;p align=&#34;right&#34; id=&#34;pppsource&#34;&gt;Source: Eurostat-OECD&lt;/p&gt;
&lt;script type=&#34;text/javascript&#34;&gt;var maxWidth = 500&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34;&gt;var width = document.getElementById(&#34;pppvis&#34;).offsetWidth;
  
    //var maxWidth = 550; // setting the maximum width of the chart.
    //var width = 300;

    var getWorkingWidth = function(width,maxWidth){
                                                if(width &lt; maxWidth)
                                                {return 1 * width}
                                                else{return maxWidth}
                                              };

    var workingWidth = getWorkingWidth(width, maxWidth);
    
    var height = Math.max(2/3 * workingWidth, 500)
    
    //var height = 7/10 * workingWidth
  
    
    var leftMargin = (width - workingWidth)/2;
    
    var rightMargin = leftMargin;
    
    document.getElementById(&#34;ppphead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px`);
    
    document.getElementById(&#34;pppsubhead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px;
      font-style: italic;
      margin-bottom: 10;
      text-align:left;`);
    
    document.getElementById(&#34;pppsource&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      font-size: 0.7rem;
      color: #696969;
      //margin-bottom: 0; 
      text-align:right;`);
    
    
    var el = document.getElementById(&#39;pppsubhead&#39;);
    var style = window.getComputedStyle(el, null).getPropertyValue(&#39;font-size&#39;);
    var fontFamily = window.getComputedStyle(el, null).getPropertyValue(&#39;font-family&#39;);
    var subFontSize = parseFloat(style); 
  
    var yourVlSpec = {
  &#34;$schema&#34;: &#34;https://vega.github.io/schema/vega-lite/v3.json&#34;,
  &#34;width&#34;: workingWidth,
      &#34;height&#34;: height,
      &#34;autosize&#34;: {
        &#34;type&#34;: &#34;fit&#34;,
        &#34;contains&#34;: &#34;padding&#34;
      },
  &#34;data&#34;: {
    &#34;url&#34;: &#34;https://gist.githubusercontent.com/jameslairdsmith/68081008a67515d3d565482816d78508/raw/d3acd665c1119def9386b25e4bca903a0038595a/clean_country_ppp.csv&#34;
  },
  &#34;transform&#34;: [{&#34;calculate&#34;: &#34;datum.ZAF_adj_ppp-0&#34;, &#34;as&#34;: &#34;ZAF_adj_ppp2&#34;}],
  &#34;mark&#34;: &#34;bar&#34;,
  &#34;encoding&#34;: {
    &#34;x&#34;: {
      &#34;field&#34;: &#34;ZAF_adj_ppp2&#34;,
      &#34;type&#34;: &#34;quantitative&#34;,
      &#34;scale&#34;: {&#34;domain&#34;: [-1.5, 9]},
      &#34;axis&#34;:{
        &#34;labelFontSize&#34;: subFontSize-3,
        &#34;labelFont&#34;: fontFamily,
        &#34;title&#34;: null
      }
    },
    &#34;y&#34;: {
      &#34;field&#34;: &#34;country_name&#34;,
      &#34;type&#34;: &#34;nominal&#34;,
      &#34;sort&#34;: {&#34;op&#34;: &#34;sum&#34;, &#34;field&#34;: &#34;ZAF_adj_ppp2&#34;, &#34;order&#34;:&#34;descending&#34;},
      &#34;axis&#34;:{
        &#34;labelFontSize&#34;: subFontSize-3,
        &#34;labelFont&#34;: fontFamily,
        &#34;title&#34;: null
      }  
    },
    &#34;color&#34;: {
      &#34;field&#34;: &#34;continent&#34;,
      &#34;type&#34;: &#34;nominal&#34;,
      &#34;legend&#34;: {
        &#34;labelFontSize&#34;: subFontSize-3,
        &#34;labelFont&#34;: fontFamily,
        &#34;title&#34;: null,
        &#34;orient&#34;:&#34;bottom-right&#34;
      }
    }
  }
}
    
    var opt = {
      &#34;actions&#34;: false,
      &#34;tooltip&#34;: false
    }
    vegaEmbed(&#34;#pppvis&#34;, yourVlSpec, opt);&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#test&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;test &amp;lt;-
  tags$html(
  tags$header(
    tags$title(&amp;#39;Embedding Vega-Lite&amp;#39;),
    tags$script(src=&amp;quot;https://d3js.org/d3.v5.js&amp;quot;),
    tags$script(src=&amp;quot;https://cdn.jsdelivr.net/npm/vega@4.2.0&amp;quot;),
    tags$script(src=&amp;quot;https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc6&amp;quot;),
    tags$script(src=&amp;quot;https://cdn.jsdelivr.net/npm/vega-embed@3.19.2&amp;quot;),
    tags$style(paste0(&amp;quot;.role-axis-label {&amp;quot;,
      css(
        font.size = paste0(0.9, &amp;#39;rem&amp;#39;),
        fill = &amp;#39;red&amp;#39;,
        color = &amp;#39;red&amp;#39;), &amp;quot;}&amp;quot;)
    )
  ),
  tags$body(
    tags$div(id=&amp;quot;pppblock2&amp;quot;, align=&amp;quot;center&amp;quot;,
      tags$h3(align=&amp;quot;left&amp;quot;, id=&amp;quot;ppphead2&amp;quot;, &amp;quot;Purchasing Power Parity (PPP)&amp;quot;),
      tags$p(align=&amp;quot;left&amp;quot;, id=&amp;quot;pppsubhead2&amp;quot;, &amp;#39;Difference from South Africa, 2017&amp;#39;)
    ),
    tags$div(id=&amp;quot;pppvis2&amp;quot;, align=&amp;quot;center&amp;quot;, class=&amp;quot;role-axis-label&amp;quot;),
    tags$p(align=&amp;quot;right&amp;quot;, id=&amp;quot;pppsource2&amp;quot;, &amp;#39;Source: Eurostat-OECD&amp;#39;),
    #tags$script(type=&amp;quot;text/javascript&amp;quot;, includeScript(&amp;quot;&amp;quot;sandbox_files/sandbox.js&amp;quot;&amp;quot;))
    includeScript(&amp;quot;sandbox_files/sandbox2.js&amp;quot;, type=&amp;quot;text/javascript&amp;quot;)
  )
)

test&lt;/code&gt;&lt;/pre&gt;
&lt;html&gt;
&lt;header&gt;
&lt;title&gt;Embedding Vega-Lite&lt;/title&gt;
&lt;script src=&#34;https://d3js.org/d3.v5.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega@4.2.0&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc6&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-embed@3.19.2&#34;&gt;&lt;/script&gt;
&lt;style&gt;.role-axis-label {font-size:0.9rem;fill:red;color:red;}&lt;/style&gt;
&lt;/header&gt;
&lt;body&gt;
&lt;div id=&#34;pppblock2&#34; align=&#34;center&#34;&gt;
&lt;h3 align=&#34;left&#34; id=&#34;ppphead2&#34;&gt;Purchasing Power Parity (PPP)&lt;/h3&gt;
&lt;p align=&#34;left&#34; id=&#34;pppsubhead2&#34;&gt;Difference from South Africa, 2017&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;pppvis2&#34; align=&#34;center&#34; class=&#34;role-axis-label&#34;&gt;&lt;/div&gt;
&lt;p align=&#34;right&#34; id=&#34;pppsource2&#34;&gt;Source: Eurostat-OECD&lt;/p&gt;
&lt;script type=&#34;text/javascript&#34;&gt;var width = document.getElementById(&#34;pppvis2&#34;).offsetWidth;
  
    var maxWidth = 550; // setting the maximum width of the chart.
    //var width = 300;

    var getWorkingWidth = function(width,maxWidth){
                                                if(width &lt; maxWidth)
                                                {return 1 * width}
                                                else{return maxWidth}
                                              };

    var workingWidth = getWorkingWidth(width, maxWidth);
    
    var height = Math.max(2/3 * workingWidth, 500)
    
    //var height = 7/10 * workingWidth
  
    
    var leftMargin = (width - workingWidth)/2;
    
    var rightMargin = leftMargin;
    
    document.getElementById(&#34;ppphead2&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px`);
    
    document.getElementById(&#34;pppsubhead2&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px;
      font-style: italic;
      margin-bottom: 10;
      text-align:left;`);
    
    document.getElementById(&#34;pppsource2&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      font-size: 0.7rem;
      color: #696969;
      //margin-bottom: 0; 
      text-align:right;`);
    
    
    var el = document.getElementById(&#39;pppsubhead2&#39;);
    var style = window.getComputedStyle(el, null).getPropertyValue(&#39;font-size&#39;);
    var fontFamily = window.getComputedStyle(el, null).getPropertyValue(&#39;font-family&#39;);
    var subFontSize = parseFloat(style); 
  
    var yourVlSpec = {
  &#34;$schema&#34;: &#34;https://vega.github.io/schema/vega-lite/v3.json&#34;,
  &#34;width&#34;: workingWidth,
      &#34;height&#34;: height,
      &#34;autosize&#34;: {
        &#34;type&#34;: &#34;fit&#34;,
        &#34;contains&#34;: &#34;padding&#34;
      },
  &#34;data&#34;: {
    &#34;url&#34;: &#34;https://gist.githubusercontent.com/jameslairdsmith/68081008a67515d3d565482816d78508/raw/d3acd665c1119def9386b25e4bca903a0038595a/clean_country_ppp.csv&#34;
  },
  &#34;transform&#34;: [{&#34;calculate&#34;: &#34;datum.ZAF_adj_ppp-0&#34;, &#34;as&#34;: &#34;ZAF_adj_ppp2&#34;}],
  &#34;mark&#34;: &#34;bar&#34;,
  &#34;encoding&#34;: {
    &#34;x&#34;: {
      &#34;field&#34;: &#34;ZAF_adj_ppp2&#34;,
      &#34;type&#34;: &#34;quantitative&#34;,
      &#34;scale&#34;: {&#34;domain&#34;: [-1.5, 9]},
      &#34;axis&#34;:{
        &#34;labelFontSize&#34;: subFontSize-3,
        &#34;labelFont&#34;: fontFamily,
        &#34;title&#34;: null
      }
    },
    &#34;y&#34;: {
      &#34;field&#34;: &#34;country_name&#34;,
      &#34;type&#34;: &#34;nominal&#34;,
      &#34;sort&#34;: {&#34;op&#34;: &#34;sum&#34;, &#34;field&#34;: &#34;ZAF_adj_ppp2&#34;, &#34;order&#34;:&#34;descending&#34;},
      &#34;axis&#34;:{
        &#34;labelFontSize&#34;: subFontSize-3,
        &#34;labelFont&#34;: fontFamily,
        &#34;title&#34;: null
      }  
    },
    &#34;color&#34;: {
      &#34;field&#34;: &#34;continent&#34;,
      &#34;type&#34;: &#34;nominal&#34;,
      &#34;legend&#34;: {
        &#34;labelFontSize&#34;: subFontSize-3,
        &#34;labelFont&#34;: fontFamily,
        &#34;title&#34;: null,
        &#34;orient&#34;:&#34;bottom-right&#34;
      }
    }
  }
}
    
    var opt = {
      &#34;actions&#34;: false,
      &#34;tooltip&#34;: false
    }
    vegaEmbed(&#34;#pppvis2&#34;, yourVlSpec, opt);&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#test&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Customising CV/resume pagedown style</title>
      <link>/post/customising-cv-resume-pagedown-style/</link>
      <pubDate>Sun, 19 May 2019 00:00:00 +0000</pubDate>
      
      <guid>/post/customising-cv-resume-pagedown-style/</guid>
      <description>


&lt;p&gt;This will hopefully be helpful for those looking to make their pagedown CV
look a little nicer, but don’t want to have to go through the trial and
error involved in CSS changes.&lt;/p&gt;
&lt;p&gt;Here is some CSS that should appear, but not run:&lt;/p&gt;
&lt;pre class=&#34;css&#34;&gt;&lt;code&gt;.blocks {
  break-inside: avoid;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will get the bullet points to line up nicely:&lt;/p&gt;
&lt;pre class=&#34;css&#34;&gt;&lt;code&gt;[data-id=&amp;quot;main&amp;quot;] li  {
  margin-left: 20px; 
  list-style-position: inside;
}&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>James&#39; unofficial guide to attending WUDC Cape Town 2019</title>
      <link>/post/james-guide-to-attending-ct-worlds/</link>
      <pubDate>Fri, 02 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/james-guide-to-attending-ct-worlds/</guid>
      <description>


&lt;p&gt;The World Universities Debating Championships (WUDC) this year is being hosted at the University of Cape Town (UCT), where I was enrolled for both my undergraduate and postgraduate degrees. For those (like me) who are attending the competition, I thought it would be useful if I published some thoughts on what it will be like once you get there. These thoughts are catalogued below.&lt;/p&gt;
&lt;p&gt;Please note that (although I did attend the university for a good long time) this is a decidedly unofficial guide designed for supplementary information only. Please defer to the Organising Committee (Org Comm) for all the official information regarding the competition.&lt;/p&gt;
&lt;div id=&#34;arriving&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Arriving&lt;/h2&gt;
&lt;p&gt;UCT has a few campuses. You only need to worry about one of them and that is the &lt;strong&gt;Lower Campus&lt;/strong&gt;. This is where the university’s residences are located and where all the participants will be staying.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;getting-around&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Getting around&lt;/h2&gt;
&lt;p&gt;Uber works in Cape Town the same way it does in many cities around the world. This makes getting around relatively easy.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;what-to-wear&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;What to wear&lt;/h2&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Embedding Vega-Lite&lt;/title&gt;
  &lt;script src=&#34;https://d3js.org/d3.v5.js&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega@4.2.0&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc6&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-embed@3.19.2&#34;&gt;&lt;/script&gt;
  
&lt;style&gt;

.role-axis-label {
  font-size: 0.9rem;
  fill: &#34;red&#34;;
  color: &#34;red&#34;;
}


&lt;/style&gt;

&lt;/head&gt;




&lt;body&gt;
  &lt;div id=&#34;rainblock&#34; align=&#34;center&#34;&gt;
    &lt;h3 align=&#34;left&#34; id=&#34;rainhead&#34;&gt;Rainfall at Cape Town International Airport&lt;/h3&gt;
    &lt;p align=&#34;left&#34; id=&#34;rainsubhead&#34;&gt;Percentage difference from ten-year average&lt;/p&gt;
  &lt;/div&gt;
  &lt;div id=&#34;rainvis&#34; align=&#34;center&#34; class=&#34;role-axis-label&#34;&gt;&lt;/div&gt;
  &lt;p align=&#34;right&#34; id=&#34;rainsource&#34;&gt;Source: ncdc.noaa.gov&lt;/p&gt;

  &lt;script type=&#34;text/javascript&#34;&gt;
  
    var width = document.getElementById(&#34;rainvis&#34;).offsetWidth;
  
    var maxWidth = 550; // setting the maximum width of the chart.
    //var width = 300;

    var getWorkingWidth = function(width,maxWidth){
                                                if(width &lt; maxWidth)
                                                {return 1 * width}
                                                else{return maxWidth}
                                              };

    var workingWidth = getWorkingWidth(width, maxWidth);
    
    var height = Math.max(2/3 * workingWidth, 350)
    
    //var height = 7/10 * workingWidth
    
    var leftMargin = (width - workingWidth)/2;
    
    var rightMargin = leftMargin;
    
    document.getElementById(&#34;rainhead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px`);
    
    document.getElementById(&#34;rainsubhead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px;
      font-style: italic;
      //margin-bottom: 0;
      text-align:left;`);
    
    document.getElementById(&#34;rainsource&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      font-size: 0.7rem;
      color: #696969;
      //margin-bottom: 0; 
      text-align:right;`);
    
    var el = document.getElementById(&#39;rainsubhead&#39;);
    var style = window.getComputedStyle(el, null).getPropertyValue(&#39;font-size&#39;);
    var fontFamily = window.getComputedStyle(el, null).getPropertyValue(&#39;font-family&#39;);
    var subFontSize = parseFloat(style); 
  
    var yourVlSpec = {
      &#34;$schema&#34;: &#34;https://vega.github.io/schema/vega-lite/v2.0.json&#34;,
      &#34;width&#34;: workingWidth,
      &#34;height&#34;: height,
      &#34;autosize&#34;: {
        &#34;type&#34;: &#34;fit&#34;,
        &#34;contains&#34;: &#34;padding&#34;
      },
      &#34;description&#34;: &#34;A simple bar chart with embedded data.&#34;,
      &#34;data&#34;:  {&#34;url&#34;:&#34;https://raw.githubusercontent.com/jameslairdsmith/Home_and_dry/master/Rained_out.csv&#34;},
      &#34;transform&#34;: [
          {&#34;calculate&#34;: &#34;datum.Avr_Prcp_Pct/100&#34;, &#34;as&#34;: &#34;Avr_Prcp_Pct2&#34;}
      ],
      &#34;mark&#34;: &#34;bar&#34;,
      
      &#34;encoding&#34;: {
        &#34;x&#34;: {&#34;field&#34;: &#34;Date&#34;, &#34;type&#34;: &#34;temporal&#34;,
        &#34;axis&#34;: {
          &#34;title&#34;: null, 
          &#34;labelFontSize&#34;: subFontSize-3,
          &#34;labelFont&#34;: fontFamily,
          &#34;ticks&#34;: false,
          &#34;format&#34;:&#34;%y&#34;,
          &#34;grid&#34;:false,
          &#34;domain&#34;:false}},
        &#34;y&#34;: {&#34;field&#34;: &#34;Avr_Prcp_Pct2&#34;, &#34;type&#34;: &#34;quantitative&#34;, 
        &#34;axis&#34;: {
          &#34;title&#34;: null,
          &#34;tickCount&#34;: 6,
          &#34;labelFontSize&#34;: subFontSize-3,
          &#34;labelFont&#34;: fontFamily,
          &#34;format&#34;:&#34;%&#34;,
          &#34;grid&#34;:false,
          &#34;tickSize&#34;:-workingWidth,
          &#34;tickColor&#34;:&#34;white&#34;,
          &#34;labelPadding&#34;:workingWidth,
          &#34;domain&#34;:false}},
        &#34;color&#34;: {&#34;value&#34;: &#34;grey&#34;}
        },
      &#34;config&#34;: {
        &#34;bar&#34;: {&#34;continuousBandSize&#34;:workingWidth/16},
        &#34;style&#34;: {
          &#34;cell&#34;: {
              &#34;stroke&#34;: &#34;transparent&#34;,
            }
          },
        },
    }
    
    var opt = {
      &#34;actions&#34;: false,
      &#34;tooltip&#34;: false
    }
    vegaEmbed(&#34;#rainvis&#34;, yourVlSpec, opt);
    
    
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;/div&gt;
&lt;div id=&#34;will-there-be-water&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Will there be water?&lt;/h2&gt;
&lt;p&gt;Some readers will be aware that Cape Town experienced an historic drought for the past three years before 2018. This meant that the (usually reliable) buffer of water housed in the surrounding resovoir dams was significantly eroded. This lead the city authorities to impose water restrictions along with a host of other measures to reduce water useage.&lt;/p&gt;
&lt;p&gt;The good news is that the situation has improved significantly during 2018 where rain levels returned to normal levels. This has meant that resovoir levels have imporved dramatically and water restrictions have been lifted.&lt;/p&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Embedding Vega-Lite&lt;/title&gt;
  &lt;script src=&#34;https://d3js.org/d3.v5.js&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega@4.2.0&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc6&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-embed@3.19.2&#34;&gt;&lt;/script&gt;
  
&lt;style&gt;

.role-axis-label {
  font-size: 0.9rem;
  fill: &#34;red&#34;;
  color: &#34;red&#34;;
}


&lt;/style&gt;

&lt;/head&gt;




&lt;body&gt;
  &lt;div id=&#34;damlevelsblock&#34; align=&#34;center&#34;&gt;
    &lt;h3 align=&#34;left&#34; id=&#34;damlevelshead&#34;&gt;Western Cape dam levels&lt;/h3&gt;
    &lt;p align=&#34;left&#34; id=&#34;damlevelssubhead&#34;&gt;Percentage of total capacity&lt;/p&gt;
  &lt;/div&gt;
  &lt;div id=&#34;damlevelsvis&#34; align=&#34;center&#34; class=&#34;role-axis-label&#34;&gt;&lt;/div&gt;
  &lt;p align=&#34;right&#34; id=&#34;damlevlessource&#34;&gt;Source: City of Cape Town&lt;/p&gt;

  &lt;script type=&#34;text/javascript&#34;&gt;
  
    var width = document.getElementById(&#34;damlevelsvis&#34;).offsetWidth;
  
    var maxWidth = 550; // setting the maximum width of the chart.
    //var width = 300;

    var getWorkingWidth = function(width,maxWidth){
                                                if(width &lt; maxWidth)
                                                {return 1 * width}
                                                else{return maxWidth}
                                              };

    var workingWidth = getWorkingWidth(width, maxWidth);
    
    var height = Math.max(2/3 * workingWidth, 350)
    
    //var height = 7/10 * workingWidth
  
    
    var leftMargin = (width - workingWidth)/2;
    
    var rightMargin = leftMargin;
    
    document.getElementById(&#34;damlevelshead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px`);
    
    document.getElementById(&#34;damlevelssubhead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px;
      font-style: italic;
      margin-bottom: 0;
      text-align:left;`);
    
    document.getElementById(&#34;damlevlessource&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      font-size: 0.7rem;
      color: #696969;
      //margin-bottom: 0; 
      text-align:right;`);
    
    
    var el = document.getElementById(&#39;damlevelssubhead&#39;);
    var style = window.getComputedStyle(el, null).getPropertyValue(&#39;font-size&#39;);
    var fontFamily = window.getComputedStyle(el, null).getPropertyValue(&#39;font-family&#39;);
    var subFontSize = parseFloat(style); 
  
    var yourVlSpec = {
      &#34;$schema&#34;: &#34;https://vega.github.io/schema/vega-lite/v2.0.json&#34;,
      &#34;width&#34;: workingWidth,
      &#34;height&#34;: height,
      &#34;autosize&#34;: {
        &#34;type&#34;: &#34;fit&#34;,
        &#34;contains&#34;: &#34;padding&#34;
      },
      &#34;description&#34;: &#34;A simple bar chart with embedded data.&#34;,
      &#34;data&#34;: {&#34;url&#34;:&#34;https://raw.githubusercontent.com/jameslairdsmith/Home_and_dry/master/Waving_Goodbye.csv&#34;},
      &#34;transform&#34;: [
          {&#34;filter&#34;: {&#34;field&#34;: &#34;Percent_Fill&#34;, &#34;gt&#34;: 0}},
         // {&#34;timeUnit&#34;: &#34;year&#34;, &#34;field&#34;: &#34;Date&#34;, &#34;as&#34;: &#34;year&#34;}
      ],
      &#34;mark&#34;: &#34;area&#34;,
      
      &#34;encoding&#34;: {
        &#34;x&#34;: {&#34;field&#34;: &#34;Date&#34;, &#34;type&#34;: &#34;temporal&#34;,&#34;timeUnit&#34;: &#34;yearmonth&#34;,
        &#34;axis&#34;: {
          &#34;title&#34;: null, 
          &#34;labelFontSize&#34;: subFontSize-3,
          &#34;labelFont&#34;: fontFamily,
          &#34;ticks&#34;: false,
          &#34;format&#34;:&#34;%Y&#34;,
          &#34;tickCount&#34;: 6,
          &#34;labelPadding&#34;: 15, 
          &#34;grid&#34;:false,
          &#34;domain&#34;:false}},
        &#34;y&#34;: {&#34;field&#34;: &#34;Percent_Fill&#34;, &#34;type&#34;: &#34;quantitative&#34;, 
        &#34;axis&#34;: {
          &#34;title&#34;: null,
          &#34;tickCount&#34;: 6,
          &#34;labelFontSize&#34;: subFontSize-3,
          &#34;labelFont&#34;: fontFamily,
          &#34;format&#34;:&#34;%&#34;,
          &#34;grid&#34;: true,
          &#34;ticks&#34;: false,
     //     &#34;tickSize&#34;:-workingWidth,
     //     &#34;tickColor&#34;:&#34;white&#34;,
          &#34;labelPadding&#34;: 15,
          &#34;domain&#34;:false}},
        &#34;color&#34;: {&#34;value&#34;: &#34;grey&#34;}
        },
      &#34;config&#34;: {
        &#34;bar&#34;: {&#34;continuousBandSize&#34;:workingWidth/16},
        &#34;style&#34;: {
          &#34;cell&#34;: {
              &#34;stroke&#34;: &#34;transparent&#34;,
            }
          },
        },
    }
    
    var opt = {
      &#34;actions&#34;: false,
      &#34;tooltip&#34;: false
    }
    vegaEmbed(&#34;#damlevelsvis&#34;, yourVlSpec, opt);
    
    
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;/div&gt;
&lt;div id=&#34;buying-stuff&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Buying stuff&lt;/h2&gt;
&lt;p&gt;The tournament will be catering for almost all of the participant’s meals and accomodation. If you are going to be travelling either before or after the tournament or just buying something in general, you may need to take stock of how much currency you need.&lt;/p&gt;
&lt;p&gt;The good news is that South Africa’s currency is relatively weak.&lt;/p&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Embedding Vega-Lite&lt;/title&gt;
  &lt;script src=&#34;https://d3js.org/d3.v5.js&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega@4.2.0&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc6&#34;&gt;&lt;/script&gt;
  &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vega-embed@3.19.2&#34;&gt;&lt;/script&gt;
  
&lt;style&gt;

.role-axis-label {
  font-size: 0.9rem;
  fill: &#34;red&#34;;
  color: &#34;red&#34;;
}


&lt;/style&gt;

&lt;/head&gt;




&lt;body&gt;
  &lt;div id=&#34;pppblock&#34; align=&#34;center&#34;&gt;
    &lt;h3 align=&#34;left&#34; id=&#34;ppphead&#34;&gt;Purchasing Power Parity (PPP)&lt;/h3&gt;
    &lt;p align=&#34;left&#34; id=&#34;pppsubhead&#34;&gt;Difference from South Africa, 2017&lt;/p&gt;
  &lt;/div&gt;
  &lt;div id=&#34;pppvis&#34; align=&#34;center&#34; class=&#34;role-axis-label&#34;&gt;&lt;/div&gt;
  &lt;p align=&#34;right&#34; id=&#34;pppsource&#34;&gt;Source: Eurostat-OECD&lt;/p&gt;

  &lt;script type=&#34;text/javascript&#34;&gt;
  
    var width = document.getElementById(&#34;pppvis&#34;).offsetWidth;
  
    var maxWidth = 550; // setting the maximum width of the chart.
    //var width = 300;

    var getWorkingWidth = function(width,maxWidth){
                                                if(width &lt; maxWidth)
                                                {return 1 * width}
                                                else{return maxWidth}
                                              };

    var workingWidth = getWorkingWidth(width, maxWidth);
    
    var height = Math.max(2/3 * workingWidth, 500)
    
    //var height = 7/10 * workingWidth
  
    
    var leftMargin = (width - workingWidth)/2;
    
    var rightMargin = leftMargin;
    
    document.getElementById(&#34;ppphead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px`);
    
    document.getElementById(&#34;pppsubhead&#34;)
    .setAttribute(
      &#34;style&#34;,`
      margin-left: ${leftMargin}px;
      margin-right: ${rightMargin}px;
      font-style: italic;
      margin-bottom: 10;
      text-align:left;`);
    
    document.getElementById(&#34;pppsource&#34;)
    .setAttribute(
      &#34;style&#34;, `
      margin-left: ${leftMargin}px; 
      margin-right: ${rightMargin}px;
      font-size: 0.7rem;
      color: #696969;
      //margin-bottom: 0; 
      text-align:right;`);
    
    
    var el = document.getElementById(&#39;pppsubhead&#39;);
    var style = window.getComputedStyle(el, null).getPropertyValue(&#39;font-size&#39;);
    var fontFamily = window.getComputedStyle(el, null).getPropertyValue(&#39;font-family&#39;);
    var subFontSize = parseFloat(style); 
  
    var yourVlSpec = {
  &#34;$schema&#34;: &#34;https://vega.github.io/schema/vega-lite/v3.json&#34;,
  &#34;width&#34;: workingWidth,
      &#34;height&#34;: height,
      &#34;autosize&#34;: {
        &#34;type&#34;: &#34;fit&#34;,
        &#34;contains&#34;: &#34;padding&#34;
      },
  &#34;data&#34;: {
    &#34;url&#34;: &#34;https://gist.githubusercontent.com/jameslairdsmith/68081008a67515d3d565482816d78508/raw/d3acd665c1119def9386b25e4bca903a0038595a/clean_country_ppp.csv&#34;
  },
  &#34;transform&#34;: [{&#34;calculate&#34;: &#34;datum.ZAF_adj_ppp-0&#34;, &#34;as&#34;: &#34;ZAF_adj_ppp2&#34;}],
  &#34;mark&#34;: &#34;bar&#34;,
  &#34;encoding&#34;: {
    &#34;x&#34;: {
      &#34;field&#34;: &#34;ZAF_adj_ppp2&#34;,
      &#34;type&#34;: &#34;quantitative&#34;,
      &#34;scale&#34;: {&#34;domain&#34;: [-1.5, 9]},
      &#34;axis&#34;:{
        &#34;labelFontSize&#34;: subFontSize-3,
        &#34;labelFont&#34;: fontFamily,
        &#34;title&#34;: null
      }
    },
    &#34;y&#34;: {
      &#34;field&#34;: &#34;country_name&#34;,
      &#34;type&#34;: &#34;nominal&#34;,
      &#34;sort&#34;: {&#34;op&#34;: &#34;sum&#34;, &#34;field&#34;: &#34;ZAF_adj_ppp2&#34;, &#34;order&#34;:&#34;descending&#34;},
      &#34;axis&#34;:{
        &#34;labelFontSize&#34;: subFontSize-3,
        &#34;labelFont&#34;: fontFamily,
        &#34;title&#34;: null
      }  
    },
    &#34;color&#34;: {
      &#34;field&#34;: &#34;continent&#34;,
      &#34;type&#34;: &#34;nominal&#34;,
      &#34;legend&#34;: {
        &#34;labelFontSize&#34;: subFontSize-3,
        &#34;labelFont&#34;: fontFamily,
        &#34;title&#34;: null,
        &#34;orient&#34;:&#34;bottom-right&#34;
      }
    }
  }
}
    
    var opt = {
      &#34;actions&#34;: false,
      &#34;tooltip&#34;: false
    }
    vegaEmbed(&#34;#pppvis&#34;, yourVlSpec, opt);
    
    
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>The future of non-fiction reading</title>
      <link>/post/the-future-of-non-fiction-reading/</link>
      <pubDate>Sun, 07 Oct 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/the-future-of-non-fiction-reading/</guid>
      <description>&lt;p&gt;Modern scholars will never be able to read many of the works by the anchient Greeks and Romans. The only way we know of these documents is because of their epitome.&lt;/p&gt;

&lt;p&gt;Epitomes are not abridgements, which are selected quotations of a work.&lt;/p&gt;

&lt;p&gt;They are also typically longer and deeper than a summary or synopsis, although there is no technical definition to deliniate the length required for one to become the other.&lt;/p&gt;

&lt;p&gt;A new kind of epitome has emerged.&lt;/p&gt;

&lt;p&gt;Blinkist is perhaps the most well-known. They have x number of subscribers.&lt;/p&gt;

&lt;p&gt;The short form kind of reading is also excellent for the spare moments one has during the day, especially with the benefits of the audio tracks. While making a small meal for example or undertaking a short commute. Even if you are preparing a large meal or have a long commute, you may still prefer the mode of reading a few book summariies to simply making progress on a longer book.&lt;/p&gt;

&lt;p&gt;The truth is that many non-fiction books are meyandering. They contain precious few nuggests of important information.&lt;/p&gt;

&lt;p&gt;But because publishing is more lucrative than writing a long-form blog post, it endures.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The Mixed Content Manifesto</title>
      <link>/post/web-platforms-should-be-better-at-handling-mixed-content/</link>
      <pubDate>Sat, 29 Sep 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/web-platforms-should-be-better-at-handling-mixed-content/</guid>
      <description>&lt;p&gt;You experience it every day. You log onto one of many of your newsfeeds and you are innundated with content. But not all of it is the kind of content you want to see. If you are lucky, this uninteresting content will be infrequent enough that it isn&amp;rsquo;t a struggle to simply scroll past it. Regrettably, this isn&amp;rsquo;t always the case; in fact, content has become so ubundent that it&amp;rsquo;s harder and harder to parse it for the kind you are interested in.&lt;/p&gt;

&lt;p&gt;People will attribute this to a problem of information overload, but that is misleading. Information has for centuries been more abundent than we can consume. The problem is in fact a problem of information organisation.&lt;/p&gt;

&lt;p&gt;Worse still, people don&amp;rsquo;t seem to realise this as a problem.&lt;/p&gt;

&lt;p&gt;You are a generator of content. You create things that other people consume.&lt;/p&gt;

&lt;p&gt;Web platforms are have done a poor job catering to this fact. You can subscribe people or organisations, but you can only subscribe to them in aggregate. Not only do you not have the option to do this, but they very seldom even have the option to categorise their content.&lt;/p&gt;

&lt;p&gt;Twitter would be a good case study, because people are free to follow and unfollow people at will. Imagine a system where one could categorise their tweets as they sent them or in retrospect. And you could then have the option of following only a particular categary of tweets.&lt;/p&gt;

&lt;p&gt;Some may complain that this would harm the user experience, but even this is difficult to imagine. The default experience could be exactly as it is now. When you follow somebody, you do so in the normal way, where you get all of their posts (or tweets etc.), but you would then have the option to unfollow certain categories as you see fit.&lt;/p&gt;

&lt;p&gt;People are not unidimentional. We will typically have a number of interests and thus a number of things we may tweet or post about. For example, say you follow an academic whose professional work you are interested in; you are grateful for the oppertunity to have their views in your newsfeed. But they also tweet about the local politics in their own country, which you may have no interest in. It isn&amp;rsquo;t that you are particularly disinterested in their local countries politics, you may just not have the time to deal with it. You are then left in the position of having to parse their tweets for the content you are interested in. Everyone you has experienced this in one form or another.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
